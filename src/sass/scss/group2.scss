@use 'reset';
@use 'var' as *;

#E-group2 {
    position: relative;

    // Banner區
    #groupBanner2 {
        position: relative;
        /* 讓內部子元素可以絕對定位 */
        display: flex;
        width: 100%;
        height: 465px;
        // justify-content: center;
        // align-items: center;

        img {
            position: absolute;
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            /* 去掉底部空隙 */
        }

        .groupSlogan2 {
            position: absolute;
            /* 疊在圖片上 */
            top: 50%;
            /* 垂直置中 */
            left: 50%;
            /* 水平置中 */
            transform: translate(-50%, -50%);
            /* 修正偏移，真正置中 */

            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 13px;

            h3,
            h2 {
                color: #fff;
                text-align: center;
                line-height: 150%;
            }

            h3 {
                font-family: $en;
                font-size: $f-s-md2;
                font-weight: $f-w-4;
                letter-spacing: $spacing-xxs;
            }

            h2 {
                font-family: $family-tc;
                font-size: $f-s-xxl;
                font-weight: $f-w-5;
                letter-spacing: $spacing-xs;
            }

            .line {
                width: 60px;
                height: 1px;
                background: #fff;
            }
        }
    }

    // 內文資訊
    #groupInfo {
        display: flex;
        // flex-direction: column;
        align-items: center;
        position: absolute;
        top: 13%;

        .activity-main {
            font-family: $family-tc;
            display: flex;
            align-items: flex-end;
            gap: 52px;

            @media ($mediaXl) {
                top: -50px;
            }

            @media ($mediaLg) {
                top: -30px;
            }

            @media ($mediaMd) {
                top: -90px;
                flex-direction: column;
                align-items: center;
                gap: 32px;
            }

            @media ($mediaSm) {
                flex-direction: column;
                align-items: center;
                gap: 32px;
            }
        }

        .info_img {
            width: 441px;
            height: 400px;
            flex-shrink: 0;

            // 圖片*0.9
            @media ($mediaXl) {
                width: 396.9px;
                height: 360px;
            }

            // 圖片*0.8
            @media ($mediaLg) {
                width: 352.8px;
                height: 320px;
            }
        }

        img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .activity-introduction {
            display: flex;
            flex-direction: column;
            // align-items: center;
            gap: 16px;

            li {
                display: flex;
                align-items: center;
                gap: 16px; // h3 與 p 的間距
            }

            h3 {
                // 文字樣式
                color: #fff;
                font-family: $family-tc;
                font-size: $f-s-sm2;
                font-weight: $f-w-3;
                letter-spacing: 2px;

                //  按鈕樣式
                display: flex;
                padding: 5px 30px;
                // justify-content: center;
                // align-items: center;
                border-radius: 99px;
                background-color: $primary1;
            }

            p {
                font-family: $family-tc;
                font-size: $f-s-sm;
                font-weight: $f-w-4;
                color: $primary2;

                // line-height: 150%;
                // letter-spacing: 2px;
                // text-align: center;
            }
        }

        .activity-btn {

            display: flex;
            gap: 32px;
            // justify-content: center;
            align-items: center;
            margin-top: 8px;

            @media ($mediaMd) {
                justify-content: center;
                align-items: center;
            }

            @media ($mediaSm) {
                justify-content: center;
                align-items: center;
            }

            .pm {
                font-family: $family-tc;
                letter-spacing: 2px;
                display: flex;
                align-items: center;
                padding: 5px 30px;
                justify-content: center;
                align-items: center;

                color: $text;
                font-size: $f-s-sm2;
                border-radius: 999px;

                border: 1px solid #7A7872;

                cursor: pointer;
                transition: 0.2s;

                &:hover {
                    background: #e0e0e0;
                }

                @media ($mediaSm) {
                    justify-content: center;
                    width: 100%;
                }
            }

            .join {
                display: flex;
                padding: 5px 30px;
                gap: 8px;
                justify-content: center;
                align-items: center;

                background-color: $accent;
                color: $text;
                font-size: $f-s-sm2;
                border-radius: 999px;

                cursor: pointer;
                transition: 0.2s;

                &:hover {
                    background: #e7c300;
                }

                img {
                    margin-top: 3px;
                    width: 8.5px;
                    height: 15.5px;
                }

                @media ($mediaMd) {
                    justify-content: center;
                    align-items: center;
                }

                @media ($mediaSm) {
                    justify-content: center;
                    align-items: center;
                }
            }
        }
    }

    // 活動說明
    #activity-content {
        margin-top: 40px;

        .content-title {
            display: flex;
            /* 建議打開 flex，讓子元素好控制 */
            flex-direction: column;
            gap: 12px;
            align-items: flex-start;
            /* 子元素全部靠左 */
            padding: 0px 150px;

            @media ($mediaXl) {
                padding: 0px 130px;
            }

            @media ($mediaLg) {
                padding: 0px 100px;
            }

            @media ($mediaMd) {
                padding: 0px 80px;
            }

            @media ($mediaSm) {
                padding: 0px 50px;
            }

            h3,
            h2 {
                text-align: left;
                /* 文字靠左 */
                line-height: 150%;
            }

            h3 {
                color: $primary2;
                font-family: $en;
                font-size: $f-s-sm;
                font-weight: $f-w-4;
                letter-spacing: 2px;
            }

            h2 {
                color: $text;
                font-family: $family-tc;
                font-size: $f-s-lg;
                font-weight: $f-w-5;
                letter-spacing: 4px;
            }

            .line {
                width: 60px;
                height: 1px;
                background: $primary2;
            }

            p {
                color: #7A7872;
                font-family: $family-tc;
                font-size: $f-s-sm2;
                font-weight: $f-w-4;
                letter-spacing: 2px;
            }
        }
    }

    // 發起人+報名人數
    #people-info {
        display: flex;
        width: 100%;
        margin-top: 350px;
        padding: 0px 150px;
        gap: 20%;
        align-items: center;

        @media ($mediaXl) {
            padding: 0px 130px;
            
        }

        @media ($mediaLg) {
            padding: 0px 100px;
        }

        @media ($mediaMd) {
            padding: 0px 80px;
            margin-top: 620px;
        }

        @media ($mediaSm) {
            padding: 0px 50px;
            gap: 15%;
        }


        .organizer-info {
            display: flex;
            flex-direction: column;
            gap: 12px;

            h3 {
                font-family: $family-tc;
                font-size: $f-s-md;
                line-height: 100%;
                letter-spacing: 2px;
            }

            p {
                color: #7A7872;
                font-family: $family-tc;
                font-size: $f-s-sm;
                line-height: 100%;
                letter-spacing: 1px;
            }
        }

        .participants {
            display: flex;
            flex-direction: column;
            gap: 12px;

            h3 {
                font-family: $family-tc;
                font-size: $f-s-md;
                line-height: 100%;
                letter-spacing: 2px;
            }

            p {
                color: #7A7872;
                font-family: $family-tc;
                font-size: $f-s-sm;
                line-height: 100%;
                letter-spacing: 1px;
            }
        }

        .people-img {
            display: flex;
            width: 80px;

            border-radius: 999px;
            border: 2px solid $white;

            @media ($mediaSm) {
                width: 60px;
            }
        }

        .join-people {
            display: flex;
            align-items: center;

            @media ($mediaSm) {
                width: 60px;
            }

            .people-img2 {
                display: flex;
                width: 80px;

                border-radius: 999px;
                border: 2px solid $white;
                margin-left: -40px;

                @media ($mediaSm) {
                    width: 60px;
                    margin-left: -30px;
                }
            }

            .people-img2 img:first-child {
                margin-left: 0;
            }
        }
    }

    // 留言區
    #activity-comments {
        display: flex;
        flex-direction: column;
        width: 100%;
        gap: 16px;
        margin-top: 40px;
        padding: 0px 150px;
        align-items: flex-start;
        /* 讓子元素在水平軸靠左 */

        @media ($mediaXl) {
            padding: 0px 130px;
        }

        @media ($mediaLg) {
            padding: 0px 100px;
        }

        @media ($mediaMd) {
            padding: 0px 80px;
        }

        @media ($mediaSm) {
            padding: 0px 50px;
        }

        h3 {
            font-family: $family-tc;
            font-size: $f-s-md;
            line-height: 100%;
            letter-spacing: 2px;
        }


        .comment {
            display: flex;
            gap: 32px;
            width: 100%;
            padding: 16px 0px;
            align-items: center;
            border-bottom: 1px solid $primary2;

            @media ($mediaSm) {
                gap: 24px;
                padding: 12px 0px;
            }
        }

        .comment-user {
            display: flex;
            gap: 32px;
            width: 100%;
            padding: 16px 0px;
            align-items: center;

            @media ($mediaSm) {
                gap: 24px;
                padding: 12px 0px;
            }
        }

        .comment-content {
            display: flex;
            flex-direction: column;
            gap: 4px;
            width: 100%;
            // border: solid 5px red;
        }

        .commenter-photo {
            display: flex;
            width: 72px;
            border-radius: 999px;
            border: 2px solid $white;

            @media ($mediaSm) {
                width: 60px;
            }
        }


        .commenter-name {
            align-self: stretch;

            color: #7A7872;
            font-family: $family-tc;
            font-size: $f-s-sm;
            line-height: 150%;
            letter-spacing: 1px;

            @media ($mediaSm) {
                font-size: $f-s-sm;
            }
        }

        p {
            align-self: stretch;
            color: #41453D;
            font-family: $family-tc;
            font-size: $f-s-sm2;
            line-height: 150%;
            letter-spacing: 1px;
        }

        /* 輸入列（Andy 的輸入區） */
        .comment-input-row {
            display: flex;
            width: 100%;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
            // border: solid 5px red;

            textarea {
                resize: none;
                /* 不讓使用者自己拖曳大小 */
                border: none;
                background: none;
                outline: none;
                box-shadow: none;
                width: 100%;
                padding: 4px 0px;
                font-size: $f-s-sm;
                letter-spacing: 2px;
                border-bottom: solid 1px #41453D;
                line-height: 1.5;
                min-height: 40px;
                /* 保持基本高度 */
                // border: solid 5px rgb(113, 4, 255);

            }

            &:focus-within {
                outline: none;
            }
        }

        /* 送出按鈕 */
        .btn-add-comment {
            width: 80px;
            /* 固定寬度 */
            height: 32px;
            /* 固定高度 */
            justify-content: center;
            align-items: center;
            display: inline-flex;
            padding: 4px 14px;
            border-radius: 99px;
            border: none;
            background-color: $primary2;
            /* 主色按鈕 */
            color: $white;
            font-size: 14px;

            cursor: pointer;
            transition: background-color .2s ease, transform .15s ease, box-shadow .2s ease;

            &:hover {
                background-color: $primary1;
            }

            &:active {
                transform: translateY(0);
                box-shadow: 0 2px 5px rgba(0, 0, 0, .16);
            }

            &:disabled {
                background-color: #cbd5e1;
                /* 灰掉 */
                cursor: not-allowed;
            }
        }
    }

    // 更多活動
    #more-activities {
        display: flex;
        flex-direction: column;
        padding: 0px 150px;
        margin-top: 50px;
        gap: 32px;

        .more-activities-title {
            position: static;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            background: $background1;
            z-index: 1;

            h3,
            h2 {
                text-align: center;
                line-height: 150%;
            }

            h3 {
                color: $primary2;
                font-family: $en;
                font-size: 22px;
                font-weight: $f-w-4;
                letter-spacing: $spacing-xxs;
            }

            h2 {
                color: $text;
                font-family: $family-tc;
                font-size: $f-s-xxl;
                font-weight: $f-w-5;
                letter-spacing: $spacing-xs;
            }

            .line {
                width: 60px;
                height: 1px;
                background: $primary2;
            }
        }

        .more-activities-cards {
            display: flex;
            gap: 40px;
            justify-content: center;
            align-items: center;

            element.style {
                --pause-on-hover: running;
                --pause-on-click: paused;
                --width: 100% --transform: none;
            }
        }


        // 更多揪團：用輪播Carousel

        .carousel {
            width: 100%;
            padding: 0 40px;
            margin: 50px 0px;
        }

        .carousel-title-en {
            font-family: $en;
            font-size: $f-s-md2;
            color: $primary2;
            text-align: center;
            letter-spacing: $spacing-xxs;
            line-height: 150%;
        }

        .carousel .line {
            width: 60px;
            height: 1px;
            background: $primary2;
            margin: 10px auto;
        }

        .carousel-title {
            color: $text;
            font-family: $family-tc;
            font-size: $f-s-xxl;
            font-weight: $f-w-5;
            letter-spacing: $spacing-xs;
            text-align: center;
            line-height: 150%;
            margin-bottom: 20px;
        }

        .carousel-viewport {
            overflow: hidden;
            border-radius: 14px;
            position: relative;
            background: $background1;
        }

        .carousel-track {
            display: flex;
            gap: 30px;
            /* 卡片間距 */
            will-change: transform;
        }

        .carousel-set {
            display: flex;
            gap: 30px;
            margin: 30px 0px;
            align-items: center;
            /* 與 .carousel-track 保持一致 */
        }

        /* 卡片寬度：桌機 3 張、平板 2 張、手機 1 張 */
        .carousel-card {
            flex: 0 0 calc((100% - 4*30px) / 5);
        }

        @media ($mediaLg) {
            .carousel-card {
                flex: 0 0 calc((100% - 4*30px) / 5);
            }
        }

        @media ($mediaMd) {
            .carousel-card {
                flex: 0 0 calc((100% - 3*30px) / 4);
            }
        }

        /* 可選：GroupCard 在輪播裡的微互動（若根節點 class 不同可刪或改） */
        .carousel-card .group-card {
            transition: transform .25s ease, box-shadow .25s ease;
        }

        .carousel-card .group-card:hover {
            transform: translateY(-2px);
        }

        /* 使用者偏好：若系統開啟減少動畫，讓 rAF 邏輯可切換（需在 React 內配合加上 is-reduced） */
        @media (prefers-reduced-motion: reduce) {
            .carousel.is-reduced .carousel-track {
                transition: none !important;
            }
        }

    }

    // 發起揪團
    #createGroup {
        .createGroup-title {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 24px;
            margin-top: 16px;

            h2 {
                color: $primary2;
                font-family: $family-tc;
                font-size: $f-s-md;
                letter-spacing: 2px;
            }

            .line {
                width: 60px;
                height: 1px;
                background: $primary2;
            }

            .btn2-create {
                color: $primary1;
                text-align: center;
                margin-bottom: 40px;
                /* 中文/大標 */
                font-family: $family-tc;
                font-size: $f-s-md;
                font-weight: $f-w-4;
                line-height: 150%;
                letter-spacing: 2px;

                display: flex;
                padding: 5px 30px;
                justify-content: center;
                align-items: center;
                border-radius: 99px;
                background: $accent;

                /* 上下飄移動畫 */
                animation: floatUpDown 3s ease-in-out infinite;
            }

            /* hover 時：加上旋轉動畫，只跑一次 */
            button:hover {
                animation: floatUpDown 3s ease-in-out infinite, rotateShake 0.5s ease-in-out 1;
            }

            /* keyframes: 上下飄移 */
            @keyframes floatUpDown {

                0%,
                100% {
                    transform: translateY(0);
                }

                50% {
                    transform: translateY(-6px);
                }
            }

            /* keyframes: 左右旋轉 */
            @keyframes rotateShake {
                0% {
                    transform: rotate(0deg);
                }

                25% {
                    transform: rotate(-5deg);
                }

                75% {
                    transform: rotate(5deg);
                }

                100% {
                    transform: rotate(0deg);
                }
            }
        }
    }

    /* ========== 基礎淡入（頁面其他區塊用；Carousel 不用） ========== */
    .fade-in {
        opacity: 0;
        transform: translateY(10px);
        transition: opacity 2s ease, transform .6s ease;
        will-change: opacity, transform;
    }

    .fade-in.show {
        opacity: 1;
        transform: translateY(0);
    }


    /* ========== Reduce Motion ========== */
    @media (prefers-reduced-motion: reduce) {
        .fade-in {
            transition: none !important;
            transform: none !important;
            opacity: 1 !important;
        }
    }


    // 彈窗卡片連結樣式
    .join-link {
        color: #d4a624;
        border-bottom: 1.5px solid #d4a624;
    }
}